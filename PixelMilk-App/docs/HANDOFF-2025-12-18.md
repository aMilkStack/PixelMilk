# PixelMilk Handoff - 18 December 2025

> **For Claude:** This is a handoff document. Ethan will return to this chat after implementing PixelMilk via Claude Code CLI. Read this to understand context, then review what he shows you.

---

## What We Built (Planning Phase)

**PixelMilk** - AI-powered pixel art creation suite using Gemini's image models.

### Key Decisions Made

1. **Frontend-only architecture** - No backend. Users provide their own Gemini API key. IndexedDB for local storage.

2. **Gemini model routing strategy:**
   - `gemini-2.5-flash-image` for volume (tiles, textures, drafts)
   - `gemini-3-pro-image-preview` for quality (finals, rotations, composites)
   - Seeds don't work on Gemini image models - using edit-based workflow instead

3. **Tab-based UI:** Character → Tile → Object → Texture → Compose → Library

4. **Terminal aesthetic:** Deep pub green (#021a1a), mint text (#8bd0ba), VT323 monospace, NO rounded corners anywhere

5. **Character Identity Documents** - Structured JSON capturing physical description, colour palette, distinctive features. Ensures consistency across sprite rotations.

6. **Palette Locking** - First sprite locks the palette. All subsequent operations (rotations, edits) constrained to locked colours.

7. **Hotspot Editing** (PixShop-style) - Click on sprite region, describe change, AI edits just that area.

### Implementation Plans Created

All in `docs/plans/`:
- Phase 1: Foundation (project setup, services, app shell)
- Phase 2: Character Tab MVP (text→sprite, identity system)
- Phase 3: Canvas & Tools (pixel editing, hotspot AI edits)
- Phase 4: Sprite Rotations (8-direction sheets, 3D preview)
- Phase 5: Tile Tab (seamless, variants, autotile)
- Phase 6: Object Tab (props, recontextualisation)
- Phase 7: Texture Tab (materials, patterns)
- Phase 8: Compose Tab (scene assembly)
- Phase 9: Library Tab (asset management, export)
- Phase 10: AI Guidance (Prompt Wand, Drawing Coach)

### Useful Reference Repos Identified

- **Piskel** - Browser pixel editor patterns
- **pixelmatch** - Image comparison for seamless verification
- **WaveFunctionCollapse** - Procedural tile placement
- **Spritesheet-Maker** - Export format implementations

### Future Features (Post-MVP)

- Audio integration (ElevenLabs SFX, Lyria music via Ethan's Google AI Pro)
- Backend version with fine-tuned LoRA models on Vertex AI
- User accounts and cloud storage

---

## What Ethan Will Show You

When Ethan returns, he'll likely show:
1. Screenshots of the implemented UI
2. Generated sprites demonstrating the workflow
3. Maybe the actual running app

### What To Look For

- Does the terminal aesthetic look right? (Sharp corners, pub green, mint text)
- Is the Character Identity system working? (Consistent sprites across directions)
- Is the palette locking enforced? (No colour drift)
- How's the hotspot editing? (Localised AI edits)

### Feedback To Offer

- UI/UX improvements
- Performance observations
- Feature suggestions for v2
- Code quality notes if he shares source

---

## Session Context

- **Date:** 18 December 2025
- **Chat compacted:** 3 times prior to this handoff
- **Transcript location:** `/mnt/transcripts/2025-12-18-19-22-17-pixelmilk-phase1-foundation-plan.txt`
- **Ethan's setup:** Windows, Claude Desktop with MCP servers (ElevenLabs, Nano-Banana, Context7, etc.)

---

## Quick Reference

**Project location:** `C:\Users\User\Desktop\PixelMilk\PixelMilk-App\`

**To run (once implemented):**
```bash
cd C:\Users\User\Desktop\PixelMilk\PixelMilk-App
npm install
npm run dev
```

**Architecture doc:** `docs/ARCHITECTURE.md`

---

*This handoff created so Claude can review the finished product with full context of what was planned.*
